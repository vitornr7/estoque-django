{% extends 'estoque/base.html' %}

{% block corpo %}

<h1>Vendas</h1>

<hr>

<table class="table table-striped table-bordered table-sm">
    <thead class="thead-dark">
        <tr>
            {% if request.user.is_superuser %}<th scope="col">Empresa</th>{% endif %}
            <th scope="col">Produto</th>
            <th scope="col">Quantidade</th>
            <th scope="col">Valor</th>
            <th scope="col">Data</th>
        </tr>
    </thead>
    <tbody>
        {% for venda in vendas %}
        <tr>
            {% if request.user.is_superuser %}
            <td>
                {{ venda.empresa }}
            </td>
            {% endif %}
            <td>
                <a href="{% url 'estoque:detalhes_produto' venda.produto.id %}">{{ venda.produto.nome }}</a>
            </td>
            <td>
                {{ venda.quantidade }}
            </td>
            <td>
                {{ venda.valor }}
            </td>
            <td>
                {{ venda.data }}
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan=5>
                <h4>Nenhum resultado encontrado.</h4>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% if vendas.has_other_pages %}

<ul class="pagination float-right">
    <li class="page-item">
        <span class="page-link">{{ vendas.number }}/{{ vendas.paginator.num_pages }}</span>
    </li>

    {% if vendas.has_previous %}
    <li class="page-item"><a class="page-link" href="?page={{ vendas.previous_page_number }}">Anterior</a>
    </li>
    {% else %}
    <li class="page-item disabled"><span class="page-link">Anterior</span></li>
    {% endif %}

    {% if vendas.has_next %}
    <li class="page-item"><a class="page-link" href="?page={{ vendas.next_page_number }}">Proxima</a>
    </li>
    {% else %}
    <li class="page-item disabled"><span class="page-link">Proxima</span></li>
    {% endif %}

</ul>
{% endif %}

{% endblock %}
